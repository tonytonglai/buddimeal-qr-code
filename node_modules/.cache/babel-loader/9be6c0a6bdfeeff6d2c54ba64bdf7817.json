{"ast":null,"code":"var _jsxFileName = \"/Users/tonylai/Desktop/bmwqr/src/components/App.js\";\nimport { useState, useEffect } from 'react';\nimport React from 'react';\nimport List from './List';\nimport QRScanner from './QRScanner'; //declare something here to pass into QRScanner as a prop, so \n//other components can access the data\n\nconst App = () => {\n  const [modalActivate, setModalActivate] = useState(false);\n  const [pendingOrders, setPendingOrders] = useState([]);\n  const [pastOrders, setPastOrders] = useState([]);\n  useEffect(() => {\n    const getPastOrders = async () => {\n      const pastFromServer = await fetchPastOrders();\n      setPastOrders(pastFromServer);\n    };\n\n    const getPendingOrders = async () => {\n      const currentOrders = await fetchPendingOrders();\n      setPendingOrders(currentOrders);\n    };\n\n    getPastOrders();\n    getPendingOrders();\n  }, []); //  to fetch the pending orders \n\n  const fetchPendingOrders = async () => {\n    const res = await fetch('http://localhost:5000/pendingOrders');\n    const data = await res.json();\n    return data;\n  }; // to fetch PAST orders...\n\n\n  const fetchPastOrders = async () => {\n    const res = await fetch('http://localhost:5000/pastOrders');\n    const data = await res.json();\n    return data;\n  };\n\n  const updateOrder = async id => {\n    const orderToGo = pendingOrders.filter(order => order.id == id);\n    await fetch(`http://localhost:5000/pendingOrders/${id}`, {\n      method: \"DELETE\"\n    });\n    setPendingOrders(pendingOrders.filter(orderReady => orderReady.id !== id));\n    const res = await fetch(`http://localhost:5000/pastOrders`, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(orderToGo).slice(1, -1)\n    });\n    const data = await res.json();\n    setPastOrders([...pastOrders, data]);\n  };\n\n  const examineData = id => {\n    pendingOrders.forEach(order => {\n      // i COULD have some specific state here that gets passed into\n      // the QRScanner, or...\n      if (order.id == id) {\n        setModalActivate(true);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"\",\n    style: {\n      padding: '20px',\n      paddingTop: '40px',\n      textAlign: 'center',\n      boxShadow: \"0px 10px 0px 0px black blur\",\n      backgroundColor: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"BuddieMeal QR Code Scanner\"), /*#__PURE__*/React.createElement(QRScanner, {\n    examineData: examineData,\n    modalActivate: modalActivate,\n    setModalActivate: setModalActivate,\n    updateOrder: updateOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    pastOrders: pastOrders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/tonylai/Desktop/bmwqr/src/components/App.js"],"names":["useState","useEffect","React","List","QRScanner","App","modalActivate","setModalActivate","pendingOrders","setPendingOrders","pastOrders","setPastOrders","getPastOrders","pastFromServer","fetchPastOrders","getPendingOrders","currentOrders","fetchPendingOrders","res","fetch","data","json","updateOrder","id","orderToGo","filter","order","method","orderReady","headers","body","JSON","stringify","slice","examineData","forEach","padding","paddingTop","textAlign","boxShadow","backgroundColor"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport React from 'react';\nimport List from './List';\nimport QRScanner from './QRScanner';\n\n//declare something here to pass into QRScanner as a prop, so \n//other components can access the data\n\n\nconst App = () => {\n\n    const [modalActivate, setModalActivate] = useState(false);\n    const [pendingOrders, setPendingOrders] = useState([]);\n    const [pastOrders, setPastOrders] = useState([]);\n\n    useEffect(() => {\n        const getPastOrders = async () => {\n            const pastFromServer = await fetchPastOrders();\n            setPastOrders(pastFromServer);\n        }\n\n        const getPendingOrders = async () => {\n            const currentOrders = await fetchPendingOrders();\n            setPendingOrders(currentOrders);\n        }\n        getPastOrders();\n        getPendingOrders();\n    }, []);\n\n    //  to fetch the pending orders \n    const fetchPendingOrders = async () => {\n        const res = await fetch('http://localhost:5000/pendingOrders');\n        const data = await res.json();\n        return data;\n    }\n\n    // to fetch PAST orders...\n    const fetchPastOrders = async () => {\n        const res = await fetch('http://localhost:5000/pastOrders');\n        const data = await res.json();\n        return data;\n    }\n\n    const updateOrder = async (id) => {\n        \n        const orderToGo = pendingOrders.filter(order => order.id == id);\n\n        await fetch(`http://localhost:5000/pendingOrders/${id}`,{\n            method: \"DELETE\"\n        })\n        setPendingOrders(pendingOrders.filter((orderReady) => orderReady.id !== id))\n\n\n        const res = await fetch(`http://localhost:5000/pastOrders`,{\n            method: \"POST\" ,\n            headers: {\n                \"Content-type\": \"application/json\"\n            },\n            body: JSON.stringify(orderToGo).slice(1,-1)\n        })\n\n        const data = await res.json();\n        setPastOrders([...pastOrders, data]);\n    }\n\n    const examineData = (id) => {\n        pendingOrders.forEach((order) => {\n            // i COULD have some specific state here that gets passed into\n            // the QRScanner, or...\n            if (order.id == id) {\n                setModalActivate(true);\n            }\n        })\n    }\n\n    \n\n    return (\n    <div>\n        <h1 className=\"\" style={{\n            padding: '20px', \n            paddingTop:'40px', \n            textAlign:'center', \n            boxShadow:\"0px 10px 0px 0px black blur\",\n            backgroundColor: \"white\"\n        }}\n        >\n            BuddieMeal QR Code Scanner\n        </h1>\n        <QRScanner \n            examineData={examineData} \n            modalActivate={modalActivate} \n            setModalActivate={setModalActivate}\n            updateOrder={updateOrder}\n        />\n        <List pastOrders={pastOrders}/>\n    </div>\n        );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}