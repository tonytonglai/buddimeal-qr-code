{"ast":null,"code":"import _toConsumableArray from\"/Users/tonylai/Desktop/bmwqr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/tonylai/Desktop/bmwqr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tonylai/Desktop/bmwqr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tonylai/Desktop/bmwqr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import React from'react';import List from'./List';import QRScanner from'./QRScanner';//declare something here to pass into QRScanner as a prop, so \n//other components can access the data\nvar App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalActivate=_useState2[0],setModalActivate=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),pendingOrders=_useState4[0],setPendingOrders=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),pastOrders=_useState6[0],setPastOrders=_useState6[1];useEffect(function(){var getPastOrders=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var pastFromServer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchPastOrders();case 2:pastFromServer=_context.sent;setPastOrders(pastFromServer);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getPastOrders(){return _ref.apply(this,arguments);};}();var getPendingOrders=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var currentOrders;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchPendingOrders();case 2:currentOrders=_context2.sent;setPendingOrders(currentOrders);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getPendingOrders(){return _ref2.apply(this,arguments);};}();getPastOrders();getPendingOrders();},[]);//  to fetch the pending orders \nvar fetchPendingOrders=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('http://localhost:5000/pendingOrders');case 2:res=_context3.sent;_context3.next=5;return res.json();case 5:data=_context3.sent;return _context3.abrupt(\"return\",data);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchPendingOrders(){return _ref3.apply(this,arguments);};}();// to fetch PAST orders...\nvar fetchPastOrders=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('http://localhost:5000/pastOrders');case 2:res=_context4.sent;_context4.next=5;return res.json();case 5:data=_context4.sent;return _context4.abrupt(\"return\",data);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchPastOrders(){return _ref4.apply(this,arguments);};}();var updateOrder=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var orderToGo,res,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:orderToGo=pendingOrders.filter(function(order){return order.id==id;});_context5.next=3;return fetch(\"http://localhost:5000/pendingOrders/\".concat(id),{method:\"DELETE\"});case 3:setPendingOrders(pendingOrders.filter(function(orderReady){return orderReady.id!==id;}));_context5.next=6;return fetch(\"http://localhost:5000/pastOrders\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(orderToGo).slice(1,-1)});case 6:res=_context5.sent;_context5.next=9;return res.json();case 9:data=_context5.sent;setPastOrders([].concat(_toConsumableArray(pastOrders),[data]));case 11:case\"end\":return _context5.stop();}}},_callee5);}));return function updateOrder(_x){return _ref5.apply(this,arguments);};}();var examineData=function examineData(id){pendingOrders.forEach(function(order){// i COULD have some specific state here that gets passed into\n// the QRScanner, or...\nif(order.id==id){setModalActivate(true);}});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"\",style:{padding:'20px',paddingTop:'40px',textAlign:'center',boxShadow:\"0px 10px 0px 0px black blur\"}},\"BuddieMeal QR Code Scanner\"),/*#__PURE__*/React.createElement(QRScanner,{examineData:examineData,modalActivate:modalActivate,setModalActivate:setModalActivate,updateOrder:updateOrder}),/*#__PURE__*/React.createElement(List,{pastOrders:pastOrders}));};export default App;","map":{"version":3,"sources":["/Users/tonylai/Desktop/bmwqr/src/components/App.js"],"names":["useState","useEffect","React","List","QRScanner","App","modalActivate","setModalActivate","pendingOrders","setPendingOrders","pastOrders","setPastOrders","getPastOrders","fetchPastOrders","pastFromServer","getPendingOrders","fetchPendingOrders","currentOrders","fetch","res","json","data","updateOrder","id","orderToGo","filter","order","method","orderReady","headers","body","JSON","stringify","slice","examineData","forEach","padding","paddingTop","textAlign","boxShadow"],"mappings":"ilBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAEA;AACA;AAGA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eAE4BL,QAAQ,CAAC,KAAD,CAFpC,wCAEPM,aAFO,eAEQC,gBAFR,8BAG4BP,QAAQ,CAAC,EAAD,CAHpC,yCAGPQ,aAHO,eAGQC,gBAHR,8BAIsBT,QAAQ,CAAC,EAAD,CAJ9B,yCAIPU,UAJO,eAIKC,aAJL,eAMdV,SAAS,CAAC,UAAM,CACZ,GAAMW,CAAAA,aAAa,0FAAG,4KACWC,CAAAA,eAAe,EAD1B,QACZC,cADY,eAElBH,aAAa,CAACG,cAAD,CAAb,CAFkB,sDAAH,kBAAbF,CAAAA,aAAa,0CAAnB,CAKA,GAAMG,CAAAA,gBAAgB,2FAAG,iLACOC,CAAAA,kBAAkB,EADzB,QACfC,aADe,gBAErBR,gBAAgB,CAACQ,aAAD,CAAhB,CAFqB,wDAAH,kBAAhBF,CAAAA,gBAAgB,2CAAtB,CAIAH,aAAa,GACbG,gBAAgB,GACnB,CAZQ,CAYN,EAZM,CAAT,CAcA;AACA,GAAMC,CAAAA,kBAAkB,2FAAG,4KACLE,CAAAA,KAAK,CAAC,qCAAD,CADA,QACjBC,GADiB,uCAEJA,CAAAA,GAAG,CAACC,IAAJ,EAFI,QAEjBC,IAFiB,iDAGhBA,IAHgB,0DAAH,kBAAlBL,CAAAA,kBAAkB,2CAAxB,CAMA;AACA,GAAMH,CAAAA,eAAe,2FAAG,4KACFK,CAAAA,KAAK,CAAC,kCAAD,CADH,QACdC,GADc,uCAEDA,CAAAA,GAAG,CAACC,IAAJ,EAFC,QAEdC,IAFc,iDAGbA,IAHa,0DAAH,kBAAfR,CAAAA,eAAe,2CAArB,CAMA,GAAMS,CAAAA,WAAW,2FAAG,kBAAOC,EAAP,6IAEVC,SAFU,CAEEhB,aAAa,CAACiB,MAAd,CAAqB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACH,EAAN,EAAYA,EAAhB,EAA1B,CAFF,wBAIVL,CAAAA,KAAK,+CAAwCK,EAAxC,EAA6C,CACpDI,MAAM,CAAE,QAD4C,CAA7C,CAJK,QAOhBlB,gBAAgB,CAACD,aAAa,CAACiB,MAAd,CAAqB,SAACG,UAAD,QAAgBA,CAAAA,UAAU,CAACL,EAAX,GAAkBA,EAAlC,EAArB,CAAD,CAAhB,CAPgB,uBAUEL,CAAAA,KAAK,oCAAoC,CACvDS,MAAM,CAAE,MAD+C,CAEvDE,OAAO,CAAE,CACL,eAAgB,kBADX,CAF8C,CAKvDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeR,SAAf,EAA0BS,KAA1B,CAAgC,CAAhC,CAAkC,CAAC,CAAnC,CALiD,CAApC,CAVP,QAUVd,GAVU,uCAkBGA,CAAAA,GAAG,CAACC,IAAJ,EAlBH,QAkBVC,IAlBU,gBAmBhBV,aAAa,8BAAKD,UAAL,GAAiBW,IAAjB,GAAb,CAnBgB,yDAAH,kBAAXC,CAAAA,WAAW,6CAAjB,CAsBA,GAAMY,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACX,EAAD,CAAQ,CACxBf,aAAa,CAAC2B,OAAd,CAAsB,SAACT,KAAD,CAAW,CAC7B;AACA;AACA,GAAIA,KAAK,CAACH,EAAN,EAAYA,EAAhB,CAAoB,CAChBhB,gBAAgB,CAAC,IAAD,CAAhB,CACH,CACJ,CAND,EAOH,CARD,CAYA,mBACA,4CACI,0BAAI,SAAS,CAAC,EAAd,CAAiB,KAAK,CAAE,CAAC6B,OAAO,CAAE,MAAV,CAAkBC,UAAU,CAAC,MAA7B,CAAqCC,SAAS,CAAC,QAA/C,CAAyDC,SAAS,CAAC,6BAAnE,CAAxB,+BADJ,cAEI,oBAAC,SAAD,EACI,WAAW,CAAEL,WADjB,CAEI,aAAa,CAAE5B,aAFnB,CAGI,gBAAgB,CAAEC,gBAHtB,CAII,WAAW,CAAEe,WAJjB,EAFJ,cAQI,oBAAC,IAAD,EAAM,UAAU,CAAEZ,UAAlB,EARJ,CADA,CAYH,CAhFD,CAkFA,cAAeL,CAAAA,GAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport React from 'react';\nimport List from './List';\nimport QRScanner from './QRScanner';\n\n//declare something here to pass into QRScanner as a prop, so \n//other components can access the data\n\n\nconst App = () => {\n\n    const [modalActivate, setModalActivate] = useState(false);\n    const [pendingOrders, setPendingOrders] = useState([]);\n    const [pastOrders, setPastOrders] = useState([]);\n\n    useEffect(() => {\n        const getPastOrders = async () => {\n            const pastFromServer = await fetchPastOrders();\n            setPastOrders(pastFromServer);\n        }\n\n        const getPendingOrders = async () => {\n            const currentOrders = await fetchPendingOrders();\n            setPendingOrders(currentOrders);\n        }\n        getPastOrders();\n        getPendingOrders();\n    }, []);\n\n    //  to fetch the pending orders \n    const fetchPendingOrders = async () => {\n        const res = await fetch('http://localhost:5000/pendingOrders');\n        const data = await res.json();\n        return data;\n    }\n\n    // to fetch PAST orders...\n    const fetchPastOrders = async () => {\n        const res = await fetch('http://localhost:5000/pastOrders');\n        const data = await res.json();\n        return data;\n    }\n\n    const updateOrder = async (id) => {\n        \n        const orderToGo = pendingOrders.filter(order => order.id == id);\n\n        await fetch(`http://localhost:5000/pendingOrders/${id}`,{\n            method: \"DELETE\"\n        })\n        setPendingOrders(pendingOrders.filter((orderReady) => orderReady.id !== id))\n\n\n        const res = await fetch(`http://localhost:5000/pastOrders`,{\n            method: \"POST\" ,\n            headers: {\n                \"Content-type\": \"application/json\"\n            },\n            body: JSON.stringify(orderToGo).slice(1,-1)\n        })\n\n        const data = await res.json();\n        setPastOrders([...pastOrders, data]);\n    }\n\n    const examineData = (id) => {\n        pendingOrders.forEach((order) => {\n            // i COULD have some specific state here that gets passed into\n            // the QRScanner, or...\n            if (order.id == id) {\n                setModalActivate(true);\n            }\n        })\n    }\n\n    \n\n    return (\n    <div>\n        <h1 className=\"\" style={{padding: '20px', paddingTop:'40px', textAlign:'center', boxShadow:\"0px 10px 0px 0px black blur\"}}>BuddieMeal QR Code Scanner</h1>\n        <QRScanner \n            examineData={examineData} \n            modalActivate={modalActivate} \n            setModalActivate={setModalActivate}\n            updateOrder={updateOrder}\n        />\n        <List pastOrders={pastOrders}/>\n    </div>\n        );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}